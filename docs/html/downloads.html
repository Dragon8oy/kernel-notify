<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../css/content.css">
</head>
<body>
<div>
  <h2>Kernel-notify - Downloads + GitHub Links</h2>
  <p>Program downloads and useful GitHub links:</p>
  <p style="display: inline-block;">GitHub Links: </p>
  <button class="button" onclick="openPage('https://github.com/Dragon8oy/kernel-notify')">Kernel-notify</button>
  <button class="button" onclick="openPage('https://github.com/Dragon8oy/kernel-notify/issues')">Issues</button>
  <button class="button" onclick="openPage('https://github.com/Dragon8oy/kernel-notify/releases')">Releases</button><br>

  <p style="display: inline-block;">Kernel-notify Downloads: </p>
  <button class="button" onclick="openPage('deb')">Debian archive (.deb)</button>
  <button class="button" onclick="openPage('tar')">Tar archive (.tar.gz)</button>
  <button class="button" onclick="openPage('zip')">Zip archive (.zip)</button>
</div>
</body>
<script>
var latestVer
function getLatestVer() {
  var responseObj = JSON.parse(this.responseText);
  latestVer = responseObj.tag_name
}

var request = new XMLHttpRequest();
request.onload = getLatestVer;
request.open('get', 'https://api.github.com/repos/dragon8oy/kernel-notify/releases/latest', true)
request.send()

function openPage(page) {
  if(page == "deb") {
    page = 'https://github.com/Dragon8oy/kernel-notify/releases/download/' + latestVer + '/kernel-notify-' + latestVer.replace(/v/g, '') + '_all.deb'
  }
  if(page == "tar") {
    page = 'https://github.com/Dragon8oy/kernel-notify/archive/' + latestVer + '.tar.gz'
  }
  if(page == "zip") {
    page = 'https://github.com/Dragon8oy/kernel-notify/archive/' + latestVer + '.zip'
  }
  window.open(page)
}
</script>
</html>

